"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[10601],{603905:(t,e,a)=>{a.d(e,{Zo:()=>d,kt:()=>u});var n=a(667294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},i=Object.keys(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var s=n.createContext({}),p=function(t){var e=n.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):o(o({},e),t)),a},d=function(t){var e=p(t.components);return n.createElement(s.Provider,{value:e},t.children)},m={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},h=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,i=t.originalType,s=t.parentName,d=l(t,["components","mdxType","originalType","parentName"]),h=p(a),u=r,g=h["".concat(s,".").concat(u)]||h[u]||m[u]||i;return a?n.createElement(g,o(o({ref:e},d),{},{components:a})):n.createElement(g,o({ref:e},d))}));function u(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=a.length,o=new Array(i);o[0]=h;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l.mdxType="string"==typeof t?t:r,o[1]=l;for(var p=2;p<i;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},334641:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>d,contentTitle:()=>s,default:()=>u,frontMatter:()=>l,metadata:()=>p,toc:()=>m});var n=a(487462),r=a(263366),i=(a(667294),a(603905)),o=["components"],l={slug:"/User-Guide/Settings/Indices/Retention",addressMatch:"panel/indices/index.retentionPolicy"},s="Retention",p={unversionedId:"User-Guide/Settings/Indices/Retention/index",id:"User-Guide/Settings/Indices/Retention/index",title:"Retention",description:"The [Settings > Indices > Retention] menu can be used to manage data retention.",source:"@site/docs/04-User-Guide/10-Settings/03-Indices/01-Retention/index.md",sourceDirName:"04-User-Guide/10-Settings/03-Indices/01-Retention",slug:"/User-Guide/Settings/Indices/Retention",permalink:"/User-Guide/Settings/Indices/Retention",draft:!1,tags:[],version:"current",frontMatter:{slug:"/User-Guide/Settings/Indices/Retention",addressMatch:"panel/indices/index.retentionPolicy"},sidebar:"docs",previous:{title:"Indices",permalink:"/User-Guide/Settings/Indices"},next:{title:"NetFlow",permalink:"/User-Guide/Settings/NetFlow"}},d={},m=[{value:"Retention policy",id:"retention-policy",level:2},{value:"Default Retention policy",id:"default-retention-policy",level:3},{value:"1. Built-in policy parameters for the netflow data stream.",id:"1-built-in-policy-parameters-for-the-netflow-data-stream",level:4},{value:"2. Built-in policy parameters for the aggregated data stream.",id:"2-built-in-policy-parameters-for-the-aggregated-data-stream",level:4},{value:"3. Built-in policy parameters for the alerts and notifications.",id:"3-built-in-policy-parameters-for-the-alerts-and-notifications",level:4},{value:"4. Built-in policy parameters for audit messages.",id:"4-built-in-policy-parameters-for-audit-messages",level:4},{value:"5. Built-in policy parameters for metrics.",id:"5-built-in-policy-parameters-for-metrics",level:4},{value:"Disk usage",id:"disk-usage",level:2}],h={toc:m};function u(t){var e=t.components,l=(0,r.Z)(t,o);return(0,i.kt)("wrapper",(0,n.Z)({},h,l,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"retention"},"Retention"),(0,i.kt)("p",null,"The ",(0,i.kt)("strong",{parentName:"p"},"[Settings > Indices > Retention]")," menu can be used to manage data retention.  "),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Retention_24",src:a(503398).Z,width:"1624",height:"729"})),(0,i.kt)("p",null,"The Retention Mechanism allows automated management of data life, considering factors such as performance and data size."),(0,i.kt)("p",null,"Data streams are stored on partitions of which there are four types in the system:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Hot")," - data just written, updated - maximum read and write speeds, high disk\nutilization."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Warm")," - deferred data that is no longer written while they can be read and searched."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Cold")," - low read and speed, low disk utilization."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Delete")," - data to be deleted. The ",(0,i.kt)("strong",{parentName:"li"},"Delete")," partition has been hidden and is available after using the ",(0,i.kt)("strong",{parentName:"li"},"Show advanced option")," switch. ")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20231109103755050",src:a(793739).Z,width:"1032",height:"806"})),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20231109105658135",src:a(526535).Z,width:"2074",height:"1610"})),(0,i.kt)("p",null,"You can change the storage location of a particular ",(0,i.kt)("strong",{parentName:"p"},"Data Stream")," in the context of the partition type. The ",(0,i.kt)("strong",{parentName:"p"},"maxTime")," parameter is used for this purpose and it is the ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("u",null,"minimum"))," time after which the partition type will be changed to another."),(0,i.kt)("p",null,"When the ",(0,i.kt)("strong",{parentName:"p"},"maxTime")," condition is met, the partition type is changed in the following order:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20221025093248674",src:a(463252).Z,width:"446",height:"73"})),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"It is impossible to change partitions for a particular data stream from a type with a lower status to a type with a higher status, e.g., ",(0,i.kt)("strong",{parentName:"p"},"Cold")," -> ",(0,i.kt)("strong",{parentName:"p"},"Warm")," or ",(0,i.kt)("strong",{parentName:"p"},"Warm")," -> ",(0,i.kt)("strong",{parentName:"p"},"Hot"),".")),(0,i.kt)("h2",{id:"retention-policy"},"Retention policy"),(0,i.kt)("p",null,"Data retention takes place in the system based on user-configurable ",(0,i.kt)("strong",{parentName:"p"},"Retention policies"),". It is required to define at least two types of partitions for the policy. Policies are executed periodically in the order specified in the ",(0,i.kt)("strong",{parentName:"p"},"Priority")," field. The moment of execution is indicated by the ",(0,i.kt)("strong",{parentName:"p"},"Time to next execution")," field. The value in the ",(0,i.kt)("strong",{parentName:"p"},"Priority")," field must be within the range of 1-100, where 1 is the highest priority, and 100 is the lowest. When creating policies, care should be taken to ensure that policies do not overlap or duplicate because all defined policies will be executed."),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"If you operate the maxTime parameter in hourly units, the system since version 2.3 stores data up to 1 hour longer, for example: 1 Hour Hot + 1 Hour Warm means that data is stored a ",(0,i.kt)("strong",{parentName:"p"},"minimum")," 2 hours and a ",(0,i.kt)("strong",{parentName:"p"},"maximum")," 3 hours.")),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"After the installation, the system has four built-in ",(0,i.kt)("strong",{parentName:"p"},"Retention policies"),". Please check them and adjust them to your needs. They can be used as a template to create new user policies.")),(0,i.kt)("admonition",{type:"danger"},(0,i.kt)("p",{parentName:"admonition"},"If you do not define a ",(0,i.kt)("strong",{parentName:"p"},"Delete")," partition in the ",(0,i.kt)("strong",{parentName:"p"},"Retention policy")," the data to which the policy applies will never be erased.")),(0,i.kt)("h3",{id:"default-retention-policy"},"Default Retention policy"),(0,i.kt)("h4",{id:"1-built-in-policy-parameters-for-the-netflow-data-stream"},"1. Built-in policy parameters for the netflow data stream."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Partition type"),(0,i.kt)("th",{parentName:"tr",align:null},"maxTime"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Hot"),(0,i.kt)("td",{parentName:"tr",align:null},"1 hour")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Warm"),(0,i.kt)("td",{parentName:"tr",align:null},"1 hour")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Cold"),(0,i.kt)("td",{parentName:"tr",align:null},"-")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Delete"),(0,i.kt)("td",{parentName:"tr",align:null},"2 days")))),(0,i.kt)("p",null,"This means that the data from the ",(0,i.kt)("strong",{parentName:"p"},"netflow")," stream is stored in the system for two hours, within the first hour the data will be stored with the ",(0,i.kt)("strong",{parentName:"p"},"Hot")," index, and within the next hour - with the ",(0,i.kt)("strong",{parentName:"p"},"Warm")," index. Than the data will have the ",(0,i.kt)("strong",{parentName:"p"},"Delete")," status for two days, which means that only certain metadata will still be stored and it is not possible to restore the original data to the System."),(0,i.kt)("admonition",{type:"danger"},(0,i.kt)("p",{parentName:"admonition"},"Please do ",(0,i.kt)("strong",{parentName:"p"},"not change")," the data storage ",(0,i.kt)("strong",{parentName:"p"},"time (maxTime)")," on the ",(0,i.kt)("strong",{parentName:"p"},"Hot")," partition for the ",(0,i.kt)("strong",{parentName:"p"},"netflow")," data stream. Changes may affect system stability and performance and may cause data loss.\nPlease use ",(0,i.kt)("strong",{parentName:"p"},"Warm")," and ",(0,i.kt)("strong",{parentName:"p"},"Cold")," partitions for flexible data space management.")),(0,i.kt)("h4",{id:"2-built-in-policy-parameters-for-the-aggregated-data-stream"},"2. Built-in policy parameters for the aggregated data stream."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Partition type"),(0,i.kt)("th",{parentName:"tr",align:null},"maxTime"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Hot"),(0,i.kt)("td",{parentName:"tr",align:null},"1 day")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Warm"),(0,i.kt)("td",{parentName:"tr",align:null},"6 days")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Cold"),(0,i.kt)("td",{parentName:"tr",align:null},"-")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Delete"),(0,i.kt)("td",{parentName:"tr",align:null},"1 day")))),(0,i.kt)("p",null,"This means that the data from the above-mentioned aggregated streams is stored in the system for seven days, within the first day the data will be stored with the ",(0,i.kt)("strong",{parentName:"p"},"Hot")," index, and within the next six days - with the ",(0,i.kt)("strong",{parentName:"p"},"Warm")," index. After seven days, the data will have the ",(0,i.kt)("strong",{parentName:"p"},"Delete")," status for one day, which means that only certain metadata will still be stored and it is not possible to restore the original data to the system."),(0,i.kt)("admonition",{type:"danger"},(0,i.kt)("p",{parentName:"admonition"},"Please do ",(0,i.kt)("strong",{parentName:"p"},"not change")," the data storage ",(0,i.kt)("strong",{parentName:"p"},"time (maxTime)")," on the ",(0,i.kt)("strong",{parentName:"p"},"Hot")," partition for the ",(0,i.kt)("strong",{parentName:"p"},"aggregated data streams"),". Changes may affect system stability and performance and may cause data loss.\nPlease use ",(0,i.kt)("strong",{parentName:"p"},"Warm")," and ",(0,i.kt)("strong",{parentName:"p"},"Cold")," partitions for flexible data space management.")),(0,i.kt)("h4",{id:"3-built-in-policy-parameters-for-the-alerts-and-notifications"},"3. Built-in policy parameters for the alerts and notifications."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Partition type"),(0,i.kt)("th",{parentName:"tr",align:null},"maxTime"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Hot"),(0,i.kt)("td",{parentName:"tr",align:null},"1 week")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Warm"),(0,i.kt)("td",{parentName:"tr",align:null},"-")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Cold"),(0,i.kt)("td",{parentName:"tr",align:null},"-")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Delete"),(0,i.kt)("td",{parentName:"tr",align:null},"1 day")))),(0,i.kt)("p",null,"This means that the alerts are stored in the system for one week, with the ",(0,i.kt)("strong",{parentName:"p"},"Hot")," index. After one week, the data will have the ",(0,i.kt)("strong",{parentName:"p"},"Delete")," status for one day, which means that only certain metadata will be stored and it is not possible to restore the original data to the System."),(0,i.kt)("h4",{id:"4-built-in-policy-parameters-for-audit-messages"},"4. Built-in policy parameters for audit messages."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Partition type"),(0,i.kt)("th",{parentName:"tr",align:null},"maxTime"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Hot"),(0,i.kt)("td",{parentName:"tr",align:null},"1 month")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Warm"),(0,i.kt)("td",{parentName:"tr",align:null},"-")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Cold"),(0,i.kt)("td",{parentName:"tr",align:null},"-")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Delete"),(0,i.kt)("td",{parentName:"tr",align:null},"1 month")))),(0,i.kt)("p",null,"This means that the data is stored in the system for one month. After one month, the data will have the ",(0,i.kt)("strong",{parentName:"p"},"Delete")," status for one month, which means that only certain metadata will be stored and it is not possible to restore the original data to the System."),(0,i.kt)("h4",{id:"5-built-in-policy-parameters-for-metrics"},"5. Built-in policy parameters for metrics."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Partition type"),(0,i.kt)("th",{parentName:"tr",align:null},"maxTime"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Hot"),(0,i.kt)("td",{parentName:"tr",align:null},"1 day")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Warm"),(0,i.kt)("td",{parentName:"tr",align:null},"2 months")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Cold"),(0,i.kt)("td",{parentName:"tr",align:null},"-")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Delete"),(0,i.kt)("td",{parentName:"tr",align:null},"1 day")))),(0,i.kt)("p",null,"This means that the data is stored in the system for two months and one day. First one day with the ",(0,i.kt)("strong",{parentName:"p"},"Hot")," index and the second two months with the ",(0,i.kt)("strong",{parentName:"p"},"Warm")," status. After two months and one day, the data will have the ",(0,i.kt)("strong",{parentName:"p"},"Delete")," status for one day, which means that only certain metadata will be stored and it is not possible to restore the original data to the System."),(0,i.kt)("h2",{id:"disk-usage"},"Disk usage"),(0,i.kt)("p",null,"In this section, the table indicates how much space the data takes up in the system."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"image-20230103132105472",src:a(486294).Z,width:"1191",height:"639"})))}u.isMDXComponent=!0},503398:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/Retention_24-7a35c50f110d1584555336dd03245fe9.png"},463252:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/image-20221025093248674-1470b2a1b07df44e94d4291a179b41db.png"},486294:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/image-20230103132105472-226ce17a78c5d9c72bd272fc05a2b8f6.png"},793739:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/image-20231109103755050-5606964dd51b1a959ae8871df4304d8c.png"},526535:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/image-20231109105658135-9474ea43913776522700ac11558f31b3.png"}}]);